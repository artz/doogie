angular.module("doogie",["doogie.templates","ngResource"]),angular.module("doogie").directive("doogieEvents",function(){function e(e,t,n){function s(){o.events=e.query()}var o=this;s(),o.services=n.query({__sort:"name"}),o.statuses=t.query({__sort:"level"}),o.event={},o.create=function(t){new e(t).$save().then(function(){s(),o.event={}})},o.update=function(e){e.$save().then(s)},o["delete"]=function(e){e.$delete().then(function(){s()})}}var t={scope:{},templateUrl:"templates/doogieEvents.html",controller:e,controllerAs:"self"};return t}),angular.module("doogie").directive("doogieServices",function(){function e(e){function t(){n.services=e.query()}var n=this;t(),n.service={},n.create=function(s){new e(s).$save().then(function(){t(),n.service={}})},n.update=function(e){e.$save().then(t)},n["delete"]=function(e){e.$delete().then(function(){t()})}}var t={scope:{},templateUrl:"templates/doogieServices.html",controller:e,controllerAs:"self"};return t}),angular.module("doogie").directive("doogieStatuses",function(){function e(e){function t(){n.statuses=e.query()}var n=this;t(),n.status={},n.create=function(s){new e(s).$save().then(function(){t(),n.status={}})},n.update=function(e){e.$save().then(t)},n["delete"]=function(e){e.$delete().then(function(){t()})}}var t={scope:{},templateUrl:"templates/doogieStatuses.html",controller:e,controllerAs:"self"};return t}),angular.module("doogie").factory("Event",["Resource",function(e){return e("events/:_id",{_id:"@_id"})}]),angular.module("doogie").factory("Resource",["$resource",function(e){return function(t,n,s){t="/api/"+t;var o={update:{method:"put"},create:{method:"post"}};s=angular.extend(o,s);var r=e(t,n,s);return r.prototype.$save=function(e){return this._id?this.$update(e):this.$create(e)},r}}]),angular.module("doogie").factory("Service",["Resource",function(e){return e("services/:_id",{_id:"@_id"})}]),angular.module("doogie").factory("Status",["Resource",function(e){return e("statuses/:_id",{_id:"@_id"})}]),angular.module("doogie.templates",[]).run(["$templateCache",function(e){e.put("templates/doogieEvents.html",'<h2>Events</h2>\n<form class="form-inline">\n  <div class="form-group">\n    <select class="form-control" ng-model="self.event._service" ng-options="service._id as service.name for service in self.services"></select>\n  </div>\n  <div class="form-group">\n    <select class="form-control" ng-model="self.event._status" ng-options="status._id as status.name for status in self.statuses"></select>\n  </div>\n  <div class="form-group">\n    <input type="text" class="form-control" placeholder="Message" ng-model="self.event.message">\n  </div>\n  <div class="form-group">\n  	<button type="submit" class="btn btn-primary" ng-click="self.create(self.event)">Send</button>\n  </div>\n</form>\n<form class="form-inline" ng-repeat="event in self.events | orderBy : \'createdAt\' : true ">\n	<div class="form-group">\n    <select class="form-control" ng-model="event._service" ng-options="service._id as service.name for service in self.services"></select>\n  </div>\n  <div class="form-group">\n    <select class="form-control" ng-model="event._status" ng-options="status._id as status.name for status in self.statuses"></select>\n  </div>\n  <div class="form-group">\n    <input type="text" class="form-control" placeholder="Message" ng-model="event.message">\n  </div>\n  <div class="form-group">\n	  <button type="submit" class="btn btn-default" ng-click="self.update(event)">Save</button>\n	  <button type="submit" class="btn btn-danger" ng-click="self.delete(event)">Delete</button>\n  </div>\n</form>\n'),e.put("templates/doogieServices.html",'<h2>Services</h2>\n<form class="form-inline" ng-repeat="service in self.services | orderBy: \'name\'">\n	<div class="form-group">\n    <input type="text" class="form-control" placeholder="Name" ng-model="service.name">\n  </div>\n  <div class="form-group">\n    <input type="text" class="form-control" placeholder="Description" ng-model="service.description">\n  </div>\n  <div class="form-group">\n	  <button type="submit" class="btn btn-default" ng-click="self.update(service)">Save</button>\n	  <button type="submit" class="btn btn-danger" ng-click="self.delete(service)">Delete</button>\n  </div>\n</form>\n<form class="form-inline">\n  <div class="form-group">\n    <input type="text" class="form-control" placeholder="Name" ng-model="self.service.name">\n  </div>\n  <div class="form-group">\n    <input type="text" class="form-control" placeholder="Description" ng-model="self.service.description">\n  </div>\n  <div class="form-group">\n  	<button type="submit" class="btn btn-primary" ng-click="self.create(self.service)">Add</button>\n  </div>\n</form>\n'),e.put("templates/doogieStatuses.html",'<h2>Statuses</h2>\n<form class="form-inline" ng-repeat="status in self.statuses | orderBy : \'level\'">\n	<div class="form-group">\n    <input type="text" class="form-control" placeholder="Name" ng-model="status.name">\n  </div>\n  <div class="form-group">\n    <input type="text" class="form-control" placeholder="Description" ng-model="status.description">\n  </div>\n  <div class="form-group">\n    <input type="number" class="form-control" placeholder="0" ng-model="status.level">\n  </div>\n  <div class="form-group">\n	  <button type="submit" class="btn btn-default" ng-click="self.update(status)">Save</button>\n	  <button type="submit" class="btn btn-danger" ng-click="self.delete(status)">Delete</button>\n  </div>\n</form>\n<form class="form-inline">\n  <div class="form-group">\n    <input type="text" class="form-control" placeholder="Name" ng-model="self.status.name">\n  </div>\n  <div class="form-group">\n    <input type="text" class="form-control" placeholder="Description" ng-model="self.status.description">\n  </div>\n  <div class="form-group">\n    <input type="number" class="form-control" placeholder="0" ng-model="self.status.level">\n  </div>\n  <div class="form-group">\n  	<button type="submit" class="btn btn-primary" ng-click="self.create(self.status)">Add</button>\n  </div>\n</form>\n\n')}]);
//# sourceMappingURL=doogie.min.js.map