angular.module("doogie",["doogie.templates","ngSanitize","ngResource","ngRoute"]).config(["$routeProvider",function(e){e.when("/",{templateUrl:"templates/dashboard.html"}).when("/admin",{templateUrl:"templates/admin.html"}).otherwise({redirectTo:"/"})}]),angular.module("doogie").controller("navController",["$location",function(e){this.isActive=function(n){return n===e.path()}}]),angular.module("doogie").directive("doogieBar",function(){function e(e,n,t){function o(){s.events=e.query()}var s=this;o(),s.services=t.query({__sort:"name"}),s.statuses=n.query({__sort:"level"}),s.event={},s.create=function(n){new e(n).$save().then(function(){o(),s.event={}})},s.update=function(e){e.$save().then(o)},s["delete"]=function(e){e.$delete().then(function(){o()})}}var n={scope:{},templateUrl:"templates/doogieBar.html",controller:e,controllerAs:"self"};return n}),angular.module("doogie").directive("doogieBoard",["$timeout",function(){function e(e,n,t){var o="false"!==t.legend;n.doogieboard({legend:o})}var n={link:e};return n}]),angular.module("doogie").directive("doogieChecks",function(){function e(e,n){function t(){o.checks=n.query()}var o=this;t(),o.services=e.query({__sort:"name"}),o.check={method:"GET",successCode:"^2[0-9][0-9]$",successResponseTime:1e3,errorResponseTime:6e3},o.create=function(e){new n(e).$save().then(function(){t(),o.check={}})},o.update=function(e){e.$save().then(t)},o["delete"]=function(e){e.$delete().then(function(){t()})}}var n={scope:{},templateUrl:"templates/doogieChecks.html",controller:e,controllerAs:"self"};return n}),angular.module("doogie").directive("doogieEvents",function(){function e(e,n,t){function o(){s.events=e.query()}var s=this;o(),s.services=t.query({__sort:"name"}),s.statuses=n.query({__sort:"level"}),s.event={},s.create=function(n){new e(n).$save().then(function(){o(),s.event={}})},s.update=function(e){e.$save().then(o)},s["delete"]=function(e){e.$delete().then(function(){o()})}}var n={scope:{},templateUrl:"templates/doogieEvents.html",controller:e,controllerAs:"self"};return n}),angular.module("doogie").directive("doogieServices",function(){function e(e){function n(){t.services=e.query()}var t=this;n(),t.service={},t.create=function(o){new e(o).$save().then(function(){n(),t.service={}})},t.update=function(e){e.$save().then(n)},t["delete"]=function(e){e.$delete().then(function(){n()})}}var n={scope:{},templateUrl:"templates/doogieServices.html",controller:e,controllerAs:"self"};return n}),angular.module("doogie").directive("doogieStatuses",function(){function e(e){function n(){t.statuses=e.query()}var t=this;n(),t.status={},t.create=function(o){new e(o).$save().then(function(){n(),t.status={}})},t.update=function(e){e.$save().then(n)},t["delete"]=function(e){e.$delete().then(function(){n()})}}var n={scope:{},templateUrl:"templates/doogieStatuses.html",controller:e,controllerAs:"self"};return n}),angular.module("doogie").factory("Check",["Resource",function(e){return e("checks/:_id",{_id:"@_id"})}]),angular.module("doogie").factory("Event",["Resource",function(e){return e("events/:_id",{_id:"@_id"})}]),angular.module("doogie").factory("Resource",["$resource",function(e){return function(n,t,o){n="/api/"+n;var s={update:{method:"put"},create:{method:"post"}};o=angular.extend(s,o);var r=e(n,t,o);return r.prototype.$save=function(e){return this._id?this.$update(e):this.$create(e)},r}}]),angular.module("doogie").factory("Service",["Resource",function(e){return e("services/:_id",{_id:"@_id"})}]),angular.module("doogie").factory("Status",["Resource",function(e){return e("statuses/:_id",{_id:"@_id"})}]),angular.module("doogie.templates",[]).run(["$templateCache",function(e){e.put("templates/admin.html","<doogie-events></doogie-events>\n<doogie-checks></doogie-checks>\n<doogie-services></doogie-services>\n<doogie-statuses></doogie-statuses>\n"),e.put("templates/dashboard.html",'<doogie-board legend="false"></doogie-board>\n'),e.put("templates/doogieBar.html",'<form class="navbar-form navbar-left">\n  <div class="form-group">\n    <select class="form-control" ng-model="self.event._service" ng-options="service._id as service.name for service in self.services"></select>\n  </div>\n  <div class="form-group">\n    <select class="form-control" ng-model="self.event._status" ng-options="status._id as status.name for status in self.statuses"></select>\n  </div>\n  <div class="form-group">\n    <input type="text" class="form-control" placeholder="Message" ng-model="self.event.message" size="60">\n  </div>\n  <div class="form-group">\n  	<button type="submit" class="btn btn-primary" ng-click="self.create(self.event)">Send</button>\n  </div>\n</form>\n'),e.put("templates/doogieChecks.html",'<h2>Checks</h2>\n\n<form class="form-inline">\n  <div class="form-group">\n    <select class="form-control" ng-model="self.check._service" ng-options="service._id as service.name for service in self.services"></select>\n  </div>\n  <div class="form-group">\n    <input type="text" class="form-control" placeholder="Name" ng-model="self.check.name">\n  </div>\n  <div class="form-group">\n    <input type="text" class="form-control" placeholder="http://www.yourcheck.com" ng-model="self.check.url">\n  </div>\n  <div class="form-group">\n    <select class="form-control" ng-model="self.check.method">\n      <option value="GET">GET</option>\n      <option value="POST">POST</option>\n      <option value="PUT">PUT</option>\n      <option value="DELETE">DELETE</option>\n    </select>\n  </div>\n  <div class="form-group">\n    <input type="text" class="form-control" ng-model="self.check.successCode" size="6">\n    <input type="text" class="form-control" ng-model="self.check.successResponseTime" size="4">\n    <input type="text" class="form-control" ng-model="self.check.errorResponseTime" size="4">\n  </div>\n  <div class="form-group">\n    <button class="btn btn-primary" ng-click="self.create(self.check)">Add</button>\n  </div>\n</form>\n\n<form class="form-inline" ng-repeat="check in self.checks">\n  <div class="form-group">\n    <select class="form-control" ng-model="check._service" ng-options="service._id as service.name for service in self.services"></select>\n  </div>\n	<div class="form-group">\n    <input type="text" class="form-control" placeholder="Name" ng-model="check.name">\n  </div>\n  <div class="form-group">\n    <input type="text" class="form-control" placeholder="http://www.yourcheck.com" ng-model="check.url">\n  </div>\n  <div class="form-group">\n    <select class="form-control" ng-model="check.method">\n      <option value="GET">GET</option>\n      <option value="POST">POST</option>\n      <option value="PUT">PUT</option>\n      <option value="DELETE">DELETE</option>\n    </select>\n  </div>\n  <div class="form-group">\n    <input type="text" class="form-control" ng-model="check.successCode" size="6">\n    <input type="text" class="form-control" ng-model="check.successResponseTime" size="4">\n    <input type="text" class="form-control" ng-model="check.errorResponseTime" size="4">\n  </div>\n  <div class="form-group">\n	  <button class="btn btn-default" ng-click="self.update(check)">Save</button>\n	  <button class="btn btn-danger" ng-click="self.delete(check)">Delete</button>\n  </div>\n</form>\n\n'),e.put("templates/doogieEvents.html",'<h2>Events</h2>\n\n<form class="form-inline">\n  <div class="form-group">\n    <select class="form-control" ng-model="self.event._service" ng-options="service._id as service.name for service in self.services"></select>\n  </div>\n  <div class="form-group">\n    <select class="form-control" ng-model="self.event._status" ng-options="status._id as status.name for status in self.statuses"></select>\n  </div>\n  <div class="form-group">\n    <input type="text" class="form-control" placeholder="Message" ng-model="self.event.message" size="60">\n  </div>\n  <div class="form-group">\n  	<button type="submit" class="btn btn-primary" ng-click="self.create(self.event)">Send</button>\n  </div>\n</form>\n<form class="form-inline" ng-repeat="event in self.events">\n	<div class="form-group">\n    <select class="form-control" ng-model="event._service" ng-options="service._id as service.name for service in self.services"></select>\n  </div>\n  <div class="form-group">\n    <select class="form-control" ng-model="event._status" ng-options="status._id as status.name for status in self.statuses"></select>\n  </div>\n  <div class="form-group">\n    <input type="text" class="form-control" placeholder="Message" ng-model="event.message" size="60">\n  </div>\n  <div class="form-group">\n	  <button type="submit" class="btn btn-default" ng-click="self.update(event)">Save</button>\n	  <button type="submit" class="btn btn-danger" ng-click="self.delete(event)">Delete</button>\n  </div>\n</form>\n'),e.put("templates/doogieServices.html",'<h2>Services</h2>\n\n<form class="form-inline">\n  <div class="form-group">\n    <input type="text" class="form-control" placeholder="Name" ng-model="self.service.name">\n  </div>\n  <div class="form-group">\n    <input type="text" class="form-control" placeholder="Description" ng-model="self.service.description" size="60">\n  </div>\n  <div class="form-group">\n    <button class="btn btn-primary" ng-click="self.create(self.service)">Add</button>\n  </div>\n</form>\n\n<form class="form-inline" ng-repeat="service in self.services | orderBy: \'name\'">\n	<div class="form-group">\n    <input type="text" class="form-control" placeholder="Name" ng-model="service.name">\n  </div>\n  <div class="form-group">\n    <input type="text" class="form-control" placeholder="Description" ng-model="service.description" size="60">\n  </div>\n  <div class="form-group">\n	  <button class="btn btn-default" ng-click="self.update(service)">Save</button>\n	  <button class="btn btn-danger" ng-click="self.delete(service)">Delete</button>\n  </div>\n</form>\n'),e.put("templates/doogieStatuses.html",'<h2>Statuses</h2>\n\n<form class="form-inline">\n  <div class="form-group">\n    <input type="text" class="form-control" placeholder="Name" ng-model="self.status.name">\n  </div>\n  <div class="form-group">\n    <input type="text" class="form-control" placeholder="Description" ng-model="self.status.description" size="52">\n  </div>\n  <div class="form-group">\n    <input type="text" class="form-control" placeholder="0" ng-model="self.status.level" size="2">\n  </div>\n  <div class="form-group">\n    <button class="btn btn-primary" ng-click="self.create(self.status)">Add</button>\n  </div>\n</form>\n\n<form class="form-inline" ng-repeat="status in self.statuses">\n	<div class="form-group">\n    <input type="text" class="form-control" placeholder="Name" ng-model="status.name">\n  </div>\n  <div class="form-group">\n    <input type="text" class="form-control" placeholder="Description" ng-model="status.description" size="52">\n  </div>\n  <div class="form-group">\n    <input type="text" class="form-control" placeholder="0" ng-model="status.level" size="2">\n  </div>\n  <div class="form-group">\n	  <button class="btn btn-default" ng-click="self.update(status)">Save</button>\n	  <button class="btn btn-danger" ng-click="self.delete(status)">Delete</button>\n  </div>\n</form>\n')}]);
//# sourceMappingURL=doogie.min.js.map