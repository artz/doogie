{"version":3,"sources":["doogie.min.js"],"names":["angular","module","config","$routeProvider","when","templateUrl","otherwise","redirectTo","$","formatAMPM","date","hours","getHours","minutes","getMinutes","ampm","defaults","days","host","legend","fn","doogieboard","options","isTimeago","jQuery","timeago","extend","isNaN","eventPromise","get","__populate","__sort","servicePromise","statusPromise","this","each","index","elem","$elem","addClass","$table","$thead","$tr","$tbody","append","i","l","text","done","events","services","statuses","hash","length","Date","service","_id","name","j","k","$td","data","getMonth","getDate","setDate","_lastStatus","level","event","createdAt","_service","_status","eventCount","find","html","toISOString","message","$legend","status","description","wrap","prepend","$activeDay","$activeInfo","on","removeClass","remove","undefined","parent","getFullYear","after","factory","define","amd","refresh","contains","document","documentElement","prepareData","$s","$t","settings","datetime","cutoff","Math","abs","distance","inWords","element","trim","localeTitle","attr","toLocaleString","isTime","getTime","timestamp","parse","refreshMillis","allowPast","allowFuture","strings","prefixAgo","prefixFromNow","suffixAgo","suffixFromNow","inPast","seconds","minute","hour","day","month","months","year","years","wordSeparator","numbers","distanceMillis","substitute","stringOrFunction","number","string","isFunction","value","$l","replace","prefix","suffix","words","round","separator","join","iso8601","s","tagName","toLowerCase","functions","init","refresh_el","proxy","_timeagoInterval","setInterval","update","time","parsedTime","apply","updateFromDOM","dispose","window","clearInterval","action","Error","call","createElement","controller","$location","isActive","viewLocation","path","Resource","$resource","url","paramDefaults","actions","method","create","resource","prototype","$save","callback","$update","$create","directive","barController","Event","Status","Service","self","query","then","$delete","scope","controllerAs","link","attrs","checksController","Check","checks","check","successCode","successResponseTime","errorResponseTime","eventsController","servicesController","statusesController","run","$templateCache","put"],"mappings":"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","file":"doogie.min.js","sourcesContent":["angular.module(\"doogie\",[\"doogie.templates\",\"ngSanitize\",\"ngResource\",\"ngRoute\"]).config([\"$routeProvider\",function(e){e.when(\"/\",{templateUrl:\"templates/dashboard.html\"}).when(\"/admin\",{templateUrl:\"templates/admin.html\"}).otherwise({redirectTo:\"/\"})}]),function(e){\"use strict\";function t(e){var t=e.getHours(),n=e.getMinutes(),s=t>=12?\"pm\":\"am\";return t%=12,t=t?t:12,n=10>n?\"0\"+n:n,t+\":\"+n+s}var n={days:5,host:\"/api/\",legend:!0};e.fn.doogieboard=function(s){var o=!!jQuery.timeago;s=s||{},s=e.extend({},n,s),(isNaN(s.days)||s.days<1)&&(s.days=n.days);var a=e.get(s.host+\"events\",{__populate:\"_status _service\",__sort:\"-createdAt\"}),r=e.get(s.host+\"services\",{__populate:\"_lastStatus\",__sort:\"name\"}),i=e.get(s.host+\"statuses\",{__sort:\"level\"});this.each(function(n,l){var c=s.days,d=e(l).addClass(\"doogieboard\"),u=e('<table class=\"table\"></table>'),m=e(\"<thead></thead>\"),f=e(\"<tr></tr>\"),v=e(\"<tbody></tbody>\");f.append(\"<th>Service</th>\");for(var p=0,g=c;g>p;p+=1){var h;h=0===p?\"Today\":1===p?\"Yesterday\":p+\" days ago\",f.append(\"<th>\"+h+\"</th>\")}m.append(f),e.when(a,r,i).done(function(n,a,r){var i={};a=a[0];for(var l=0,f=a.length;f>l;l+=1){var p=new Date,g=a[l];i[g._id]={};var h=e(\"<tr></tr>\");h.append('<td class=\"service-name\">'+g.name+\"</td>\");for(var b=0,y=c;y>b;b+=1){var _=e('<td class=\"doogieboard-day daysago-'+b+'\"><span class=\"doogieboard-badge\"><b class=\"event-count\"></b></span></td>');_.data(\"eventCount\",0),_.data(\"date\",p),i[g._id][p.getMonth()+\"-\"+p.getDate()]=_,h.append(_),p.setDate(p.getDate()-1),0===b&&g._lastStatus&&_.addClass(\"level-\"+g._lastStatus.level)}v.append(h)}n=n[0];for(var k,l=0,f=n.length;f>l;l+=1){k=n[l];var w=new Date(k.createdAt),_=i[k._service._id][w.getMonth()+\"-\"+w.getDate()];_.data(\"hasEvents\")||(_.data(\"hasEvents\",!0),_.addClass(\"doogieboard-events\"),_.addClass(\"level-\"+k._status.level));var x=_.data(\"eventCount\")+1;_.data(\"eventCount\",x),_.find(\".event-count\").html(x),_.append('<div class=\"event level-'+k._status.level+'\"><h5><b class=\"status\">'+k._status.name+\"</b> <small>at \"+t(w)+', <time class=\"timeago\" datetime=\"'+w.toISOString()+'\">'+w.getMonth()+\"/\"+w.getDate()+\" \"+w.getHours()+\":\"+w.getMinutes()+'</time></small></h5><p class=\"message\">'+k.message+\"</p></div>\")}if(u.append(m),u.append(v),d.append(u),s.legend){r=r[0];for(var T=e('<ul class=\"status-list\"></ul>'),l=0,f=r.length;f>l;l+=1){var S=r[l];T.append('<li class=\"status-item level-'+S.level+'\"><b>'+S.name+\"</b> <i>\"+S.description+\"</li>\")}T.wrap('<div class=\"legend\"></div>'),T.prepend(\"<h2>Status Legend</h2>\"),d.append(T)}o&&d.find(\".timeago\").timeago();var E,$;d.on(\"click\",\"td.doogieboard-events\",function(){var t=e(this);if(E&&(E.removeClass(\"events-open active\"),$.remove(),E[0]===t[0]))return void(E=$=void 0);t.addClass(\"events-open active\"),E=t;var n=t.parent(),s=t.data(\"date\");s=s.getMonth()+1+\"/\"+s.getDate()+\"/\"+s.getFullYear(),$=e('<tr class=\"doogieboard-info active\"><td><span class=\"date\">'+s+'</span></td><td colspan=\"'+c+'\">'+t.html()+\"</td></tr>\"),n.after($)})})})}}(jQuery),function(e){\"function\"==typeof define&&define.amd?define([\"jquery\"],e):e(jQuery)}(function(e){function t(){if(!e.contains(document.documentElement,this))return e(this).timeago(\"dispose\"),this;var t=n(this),r=a.settings;return isNaN(t.datetime)||(0==r.cutoff||Math.abs(o(t.datetime))<r.cutoff)&&e(this).text(s(t.datetime)),this}function n(t){if(t=e(t),!t.data(\"timeago\")){t.data(\"timeago\",{datetime:a.datetime(t)});var n=e.trim(t.text());a.settings.localeTitle?t.attr(\"title\",t.data(\"timeago\").datetime.toLocaleString()):!(n.length>0)||a.isTime(t)&&t.attr(\"title\")||t.attr(\"title\",n)}return t.data(\"timeago\")}function s(e){return a.inWords(o(e))}function o(e){return(new Date).getTime()-e.getTime()}e.timeago=function(t){return s(t instanceof Date?t:\"string\"==typeof t?e.timeago.parse(t):\"number\"==typeof t?new Date(t):e.timeago.datetime(t))};var a=e.timeago;e.extend(e.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!1,localeTitle:!1,cutoff:0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:\"ago\",suffixFromNow:\"from now\",inPast:\"any moment now\",seconds:\"less than a minute\",minute:\"about a minute\",minutes:\"%d minutes\",hour:\"about an hour\",hours:\"about %d hours\",day:\"a day\",days:\"%d days\",month:\"about a month\",months:\"%d months\",year:\"about a year\",years:\"%d years\",wordSeparator:\" \",numbers:[]}},inWords:function(t){function n(n,o){var a=e.isFunction(n)?n(o,t):n,r=s.numbers&&s.numbers[o]||o;return a.replace(/%d/i,r)}if(!this.settings.allowPast&&!this.settings.allowFuture)throw\"timeago allowPast and allowFuture settings can not both be set to false.\";var s=this.settings.strings,o=s.prefixAgo,a=s.suffixAgo;if(this.settings.allowFuture&&0>t&&(o=s.prefixFromNow,a=s.suffixFromNow),!this.settings.allowPast&&t>=0)return this.settings.strings.inPast;var r=Math.abs(t)/1e3,i=r/60,l=i/60,c=l/24,d=c/365,u=45>r&&n(s.seconds,Math.round(r))||90>r&&n(s.minute,1)||45>i&&n(s.minutes,Math.round(i))||90>i&&n(s.hour,1)||24>l&&n(s.hours,Math.round(l))||42>l&&n(s.day,1)||30>c&&n(s.days,Math.round(c))||45>c&&n(s.month,1)||365>c&&n(s.months,Math.round(c/30))||1.5>d&&n(s.year,1)||n(s.years,Math.round(d)),m=s.wordSeparator||\"\";return void 0===s.wordSeparator&&(m=\" \"),e.trim([o,u,a].join(m))},parse:function(t){var n=e.trim(t);return n=n.replace(/\\.\\d+/,\"\"),n=n.replace(/-/,\"/\").replace(/-/,\"/\"),n=n.replace(/T/,\" \").replace(/Z/,\" UTC\"),n=n.replace(/([\\+\\-]\\d\\d)\\:?(\\d\\d)/,\" $1$2\"),n=n.replace(/([\\+\\-]\\d\\d)$/,\" $100\"),new Date(n)},datetime:function(t){var n=e(t).attr(a.isTime(t)?\"datetime\":\"title\");return a.parse(n)},isTime:function(t){return\"time\"===e(t).get(0).tagName.toLowerCase()}});var r={init:function(){var n=e.proxy(t,this);n();var s=a.settings;s.refreshMillis>0&&(this._timeagoInterval=setInterval(n,s.refreshMillis))},update:function(n){var s=a.parse(n);e(this).data(\"timeago\",{datetime:s}),a.settings.localeTitle&&e(this).attr(\"title\",s.toLocaleString()),t.apply(this)},updateFromDOM:function(){e(this).data(\"timeago\",{datetime:a.parse(e(this).attr(a.isTime(this)?\"datetime\":\"title\"))}),t.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};e.fn.timeago=function(e,t){var n=e?r[e]:r.init;if(!n)throw new Error(\"Unknown function name '\"+e+\"' for timeago\");return this.each(function(){n.call(this,t)}),this},document.createElement(\"abbr\"),document.createElement(\"time\")}),angular.module(\"doogie\").controller(\"navController\",[\"$location\",function(e){this.isActive=function(t){return t===e.path()}}]),angular.module(\"doogie\").directive(\"doogieBar\",function(){function e(e,t,n){function s(){o.events=e.query()}var o=this;s(),o.services=n.query({__sort:\"name\"}),o.statuses=t.query({__sort:\"level\"}),o.event={},o.create=function(t){new e(t).$save().then(function(){s(),o.event={}})},o.update=function(e){e.$save().then(s)},o[\"delete\"]=function(e){e.$delete().then(function(){s()})}}var t={scope:{},templateUrl:\"templates/doogieBar.html\",controller:e,controllerAs:\"self\"};return t}),angular.module(\"doogie\").directive(\"doogieBoard\",[\"$timeout\",function(){function e(e,t,n){var s=\"false\"!==n.legend;t.doogieboard({legend:s})}var t={link:e};return t}]),angular.module(\"doogie\").directive(\"doogieChecks\",function(){function e(e,t){function n(){s.checks=t.query()}var s=this;n(),s.services=e.query({__sort:\"name\"}),s.check={method:\"GET\",successCode:\"^2[0-9][0-9]$\",successResponseTime:1e3,errorResponseTime:6e3},s.create=function(e){new t(e).$save().then(function(){n(),s.check={}})},s.update=function(e){e.$save().then(n)},s[\"delete\"]=function(e){e.$delete().then(function(){n()})}}var t={scope:{},templateUrl:\"templates/doogieChecks.html\",controller:e,controllerAs:\"self\"};return t}),angular.module(\"doogie\").directive(\"doogieEvents\",function(){function e(e,t,n){function s(){o.events=e.query()}var o=this;s(),o.services=n.query({__sort:\"name\"}),o.statuses=t.query({__sort:\"level\"}),o.event={},o.create=function(t){new e(t).$save().then(function(){s(),o.event={}})},o.update=function(e){e.$save().then(s)},o[\"delete\"]=function(e){e.$delete().then(function(){s()})}}var t={scope:{},templateUrl:\"templates/doogieEvents.html\",controller:e,controllerAs:\"self\"};return t}),angular.module(\"doogie\").directive(\"doogieServices\",function(){function e(e){function t(){n.services=e.query()}var n=this;t(),n.service={},n.create=function(s){new e(s).$save().then(function(){t(),n.service={}})},n.update=function(e){e.$save().then(t)},n[\"delete\"]=function(e){e.$delete().then(function(){t()})}}var t={scope:{},templateUrl:\"templates/doogieServices.html\",controller:e,controllerAs:\"self\"};return t}),angular.module(\"doogie\").directive(\"doogieStatuses\",function(){function e(e){function t(){n.statuses=e.query()}var n=this;t(),n.status={},n.create=function(s){new e(s).$save().then(function(){t(),n.status={}})},n.update=function(e){e.$save().then(t)},n[\"delete\"]=function(e){e.$delete().then(function(){t()})}}var t={scope:{},templateUrl:\"templates/doogieStatuses.html\",controller:e,controllerAs:\"self\"};return t}),angular.module(\"doogie.templates\",[]).run([\"$templateCache\",function(e){e.put(\"templates/admin.html\",\"<doogie-events></doogie-events>\\n<doogie-checks></doogie-checks>\\n<doogie-services></doogie-services>\\n<doogie-statuses></doogie-statuses>\\n\"),e.put(\"templates/dashboard.html\",'<doogie-board legend=\"false\"></doogie-board>\\n'),e.put(\"templates/doogieBar.html\",'<form class=\"navbar-form navbar-left\">\\n  <div class=\"form-group\">\\n    <select class=\"form-control\" ng-model=\"self.event._service\" ng-options=\"service._id as service.name for service in self.services\"></select>\\n  </div>\\n  <div class=\"form-group\">\\n    <select class=\"form-control\" ng-model=\"self.event._status\" ng-options=\"status._id as status.name for status in self.statuses\"></select>\\n  </div>\\n  <div class=\"form-group\">\\n    <input type=\"text\" class=\"form-control\" placeholder=\"Message\" ng-model=\"self.event.message\" size=\"60\">\\n  </div>\\n  <div class=\"form-group\">\\n  \t<button type=\"submit\" class=\"btn btn-primary\" ng-click=\"self.create(self.event)\">Send</button>\\n  </div>\\n</form>\\n'),e.put(\"templates/doogieChecks.html\",'<h2>Checks</h2>\\n\\n<form class=\"form-inline\">\\n  <div class=\"form-group\">\\n    <select class=\"form-control\" ng-model=\"self.check._service\" ng-options=\"service._id as service.name for service in self.services\"></select>\\n  </div>\\n  <div class=\"form-group\">\\n    <input type=\"text\" class=\"form-control\" placeholder=\"Name\" ng-model=\"self.check.name\">\\n  </div>\\n  <div class=\"form-group\">\\n    <input type=\"text\" class=\"form-control\" placeholder=\"http://www.yourcheck.com\" ng-model=\"self.check.url\">\\n  </div>\\n  <div class=\"form-group\">\\n    <select class=\"form-control\" ng-model=\"self.check.method\">\\n      <option value=\"GET\">GET</option>\\n      <option value=\"POST\">POST</option>\\n      <option value=\"PUT\">PUT</option>\\n      <option value=\"DELETE\">DELETE</option>\\n    </select>\\n  </div>\\n  <div class=\"form-group\">\\n    <input type=\"text\" class=\"form-control\" ng-model=\"self.check.successCode\" size=\"6\">\\n    <input type=\"text\" class=\"form-control\" ng-model=\"self.check.successResponseTime\" size=\"4\">\\n    <input type=\"text\" class=\"form-control\" ng-model=\"self.check.errorResponseTime\" size=\"4\">\\n  </div>\\n  <div class=\"form-group\">\\n    <button class=\"btn btn-primary\" ng-click=\"self.create(self.check)\">Add</button>\\n  </div>\\n</form>\\n\\n<form class=\"form-inline\" ng-repeat=\"check in self.checks\">\\n  <div class=\"form-group\">\\n    <select class=\"form-control\" ng-model=\"check._service\" ng-options=\"service._id as service.name for service in self.services\"></select>\\n  </div>\\n\t<div class=\"form-group\">\\n    <input type=\"text\" class=\"form-control\" placeholder=\"Name\" ng-model=\"check.name\">\\n  </div>\\n  <div class=\"form-group\">\\n    <input type=\"text\" class=\"form-control\" placeholder=\"http://www.yourcheck.com\" ng-model=\"check.url\">\\n  </div>\\n  <div class=\"form-group\">\\n    <select class=\"form-control\" ng-model=\"check.method\">\\n      <option value=\"GET\">GET</option>\\n      <option value=\"POST\">POST</option>\\n      <option value=\"PUT\">PUT</option>\\n      <option value=\"DELETE\">DELETE</option>\\n    </select>\\n  </div>\\n  <div class=\"form-group\">\\n    <input type=\"text\" class=\"form-control\" ng-model=\"check.successCode\" size=\"6\">\\n    <input type=\"text\" class=\"form-control\" ng-model=\"check.successResponseTime\" size=\"4\">\\n    <input type=\"text\" class=\"form-control\" ng-model=\"check.errorResponseTime\" size=\"4\">\\n  </div>\\n  <div class=\"form-group\">\\n\t  <button class=\"btn btn-default\" ng-click=\"self.update(check)\">Save</button>\\n\t  <button class=\"btn btn-danger\" ng-click=\"self.delete(check)\">Delete</button>\\n  </div>\\n</form>\\n\\n'),e.put(\"templates/doogieEvents.html\",'<h2>Events</h2>\\n\\n<form class=\"form-inline\">\\n  <div class=\"form-group\">\\n    <select class=\"form-control\" ng-model=\"self.event._service\" ng-options=\"service._id as service.name for service in self.services\"></select>\\n  </div>\\n  <div class=\"form-group\">\\n    <select class=\"form-control\" ng-model=\"self.event._status\" ng-options=\"status._id as status.name for status in self.statuses\"></select>\\n  </div>\\n  <div class=\"form-group\">\\n    <input type=\"text\" class=\"form-control\" placeholder=\"Message\" ng-model=\"self.event.message\" size=\"60\">\\n  </div>\\n  <div class=\"form-group\">\\n  \t<button type=\"submit\" class=\"btn btn-primary\" ng-click=\"self.create(self.event)\">Send</button>\\n  </div>\\n</form>\\n<form class=\"form-inline\" ng-repeat=\"event in self.events | orderBy : \\'createdAt\\' : true \">\\n\t<div class=\"form-group\">\\n    <select class=\"form-control\" ng-model=\"event._service\" ng-options=\"service._id as service.name for service in self.services\"></select>\\n  </div>\\n  <div class=\"form-group\">\\n    <select class=\"form-control\" ng-model=\"event._status\" ng-options=\"status._id as status.name for status in self.statuses\"></select>\\n  </div>\\n  <div class=\"form-group\">\\n    <input type=\"text\" class=\"form-control\" placeholder=\"Message\" ng-model=\"event.message\" size=\"60\">\\n  </div>\\n  <div class=\"form-group\">\\n\t  <button type=\"submit\" class=\"btn btn-default\" ng-click=\"self.update(event)\">Save</button>\\n\t  <button type=\"submit\" class=\"btn btn-danger\" ng-click=\"self.delete(event)\">Delete</button>\\n  </div>\\n</form>\\n'),e.put(\"templates/doogieServices.html\",'<h2>Services</h2>\\n\\n<form class=\"form-inline\">\\n  <div class=\"form-group\">\\n    <input type=\"text\" class=\"form-control\" placeholder=\"Name\" ng-model=\"self.service.name\">\\n  </div>\\n  <div class=\"form-group\">\\n    <input type=\"text\" class=\"form-control\" placeholder=\"Description\" ng-model=\"self.service.description\" size=\"60\">\\n  </div>\\n  <div class=\"form-group\">\\n    <button class=\"btn btn-primary\" ng-click=\"self.create(self.service)\">Add</button>\\n  </div>\\n</form>\\n\\n<form class=\"form-inline\" ng-repeat=\"service in self.services | orderBy: \\'name\\'\">\\n\t<div class=\"form-group\">\\n    <input type=\"text\" class=\"form-control\" placeholder=\"Name\" ng-model=\"service.name\">\\n  </div>\\n  <div class=\"form-group\">\\n    <input type=\"text\" class=\"form-control\" placeholder=\"Description\" ng-model=\"service.description\" size=\"60\">\\n  </div>\\n  <div class=\"form-group\">\\n\t  <button class=\"btn btn-default\" ng-click=\"self.update(service)\">Save</button>\\n\t  <button class=\"btn btn-danger\" ng-click=\"self.delete(service)\">Delete</button>\\n  </div>\\n</form>\\n'),e.put(\"templates/doogieStatuses.html\",'<h2>Statuses</h2>\\n\\n<form class=\"form-inline\">\\n  <div class=\"form-group\">\\n    <input type=\"text\" class=\"form-control\" placeholder=\"Name\" ng-model=\"self.status.name\">\\n  </div>\\n  <div class=\"form-group\">\\n    <input type=\"text\" class=\"form-control\" placeholder=\"Description\" ng-model=\"self.status.description\" size=\"52\">\\n  </div>\\n  <div class=\"form-group\">\\n    <input type=\"text\" class=\"form-control\" placeholder=\"0\" ng-model=\"self.status.level\" size=\"2\">\\n  </div>\\n  <div class=\"form-group\">\\n    <button class=\"btn btn-primary\" ng-click=\"self.create(self.status)\">Add</button>\\n  </div>\\n</form>\\n\\n<form class=\"form-inline\" ng-repeat=\"status in self.statuses\">\\n\t<div class=\"form-group\">\\n    <input type=\"text\" class=\"form-control\" placeholder=\"Name\" ng-model=\"status.name\">\\n  </div>\\n  <div class=\"form-group\">\\n    <input type=\"text\" class=\"form-control\" placeholder=\"Description\" ng-model=\"status.description\" size=\"52\">\\n  </div>\\n  <div class=\"form-group\">\\n    <input type=\"text\" class=\"form-control\" placeholder=\"0\" ng-model=\"status.level\" size=\"2\">\\n  </div>\\n  <div class=\"form-group\">\\n\t  <button class=\"btn btn-default\" ng-click=\"self.update(status)\">Save</button>\\n\t  <button class=\"btn btn-danger\" ng-click=\"self.delete(status)\">Delete</button>\\n  </div>\\n</form>\\n')}]),angular.module(\"doogie\").factory(\"Check\",[\"Resource\",function(e){return e(\"checks/:_id\",{_id:\"@_id\"})}]),angular.module(\"doogie\").factory(\"Event\",[\"Resource\",function(e){return e(\"events/:_id\",{_id:\"@_id\"})}]),angular.module(\"doogie\").factory(\"Resource\",[\"$resource\",function(e){return function(t,n,s){t=\"/api/\"+t;var o={update:{method:\"put\"},create:{method:\"post\"}};s=angular.extend(o,s);var a=e(t,n,s);return a.prototype.$save=function(e){return this._id?this.$update(e):this.$create(e)},a}}]),angular.module(\"doogie\").factory(\"Service\",[\"Resource\",function(e){return e(\"services/:_id\",{_id:\"@_id\"})}]),angular.module(\"doogie\").factory(\"Status\",[\"Resource\",function(e){return e(\"statuses/:_id\",{_id:\"@_id\"})}]);\n//# sourceMappingURL=doogie.min.js.map"],"sourceRoot":"/source/"}